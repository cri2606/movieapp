<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

      <style>
            .card-button-container {
                  padding: 5%;
            }

            .scrolling {
                  scroll-margin-top: 70px;
            }

            .navbar-image {
                  width: 4%;
                  height: auto;
            }
      </style>

</head>

<body>
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary bg-gradient sticky-top">
            <div class="container">
                  <img class="navbar-image"
                        src="https://play-lh.googleusercontent.com/09V0Z-LB9y7-RA3yygmRdYaNtt-w1LExNEdctz7txCmIy11E_Z0ZCLDeUwwKYK5UXA=w480-h960-rw">
                  <div class="navbar-brand" href="#"></div>
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
                        aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                              <a class="nav-item nav-link" href="#">TrendingMovies</a>
                              <a class="nav-item nav-link" href="#People">TrendingPeople</a>
                              <a class="nav-item nav-link" href="#TV">TrendingTV</a>
                              <a class="nav-item nav-link" href="#Actors">SearchPeople</a>
                        </div>
                  </div>
            </div>
      </nav>
      <div class="container">
            <h3 class="text-left my-4 scrolling" id="Movies">Trending Movies</h3>
            <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-left" id="trendingMovies"></div>
            <h3 class="text-left my-4 scrolling" id="People">Trending People</h3>
            <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-left" id="trendingPeople"></div>
            <h3 class="text-left my-4 scrolling" id="TV">Trending TV</h3>
            <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-left" id="trendingTV"></div>
            <h3 class="text-left my-4 scrolling" id="Actors">Search People</h3>
            <form id="searchActorForm" class="mb-5">
                  <div class="row align-items-end">
                        <div class="col">
                              <div class="form-group">
                                    <input type="text" class="form-control" id="actorName" placeholder="Enter name">
                              </div>
                        </div>
                        <div class="col-auto d-grid">
                              <button type="submit" class="btn btn-primary">Search</button>
                        </div>
                  </div>
            </form>
            <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-left" id="searchActor"></div>
      </div>
</body>

<script type="module">
      import { addParagraph } from "./js/utils/dom.js";
      import { getTrendingMovies, getTrendingPeople, getTrendingTV, getSearchActor } from "./js/index.js";
      import { createCard } from "./js/dom-manipulator/createList.js";

      const movieData = await getTrendingMovies();
      const peopleData = await getTrendingPeople();
      const tvData = await getTrendingTV();
      const actorData = await getSearchActor("");
      createCard(movieData.results, "trendingMovies");
      createCard(peopleData.results, "trendingPeople");
      createCard(tvData.results, "trendingTV");
      createCard(actorData.results, "searchActor");

      document.getElementById('searchActorForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const actorName = document.getElementById('actorName').value;
            const searchActorData = await getSearchActor(actorName);
            const cardC = document.getElementById("searchActor");
            cardC.innerHTML = "";
            createCard(searchActorData.results, "searchActor");
      });
</script>

</html>